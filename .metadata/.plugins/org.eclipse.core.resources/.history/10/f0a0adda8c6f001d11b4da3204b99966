package db.gallery;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.JTextArea;
import javax.swing.JTextField;

public class GalleryMain extends JFrame implements ActionListener{
	//서쪽영역
	JPanel p_west;
	JTextField t_title;
	JTextField t_writer;
	JTextArea t_content;
	JPanel p_preview; //이미지 미리보기 패널
	JButton bt_open; //첨부 이미지 찾기
	JButton bt_regist;
	
	//센터영역
	JTable table;
	JScrollPane scroll;
	
	//동쪽영역
	JPanel p_east;
	JTextField t_title2;
	JTextField t_writer2;
	JTextArea t_content2;
	JPanel p_preview2; //이미지 미리보기 패널
	JButton bt_edit;
	JButton bt_del;
	
	JFileChooser chooser;
	
	public GalleryMain() {
		//서쪽영역
		p_west=new JPanel();
		t_title=new JTextField(12);
		t_writer=new JTextField(12);
		t_content=new JTextArea();
		p_preview=new JPanel() {
			@Override
			protected void paintComponent(Graphics g) {
				Graphics2D g2=(Graphics2D)g;
				g2.setColor(Color.GRAY);
				g2.fillRect(0, 0, 150, 130);
				
				g2.setColor(Color.WHITE);
				g2.drawString("choose your file", 20, 50);
			}
		};
		bt_open=new JButton("첨부");
		bt_regist=new JButton("등록");
		chooser=new JFileChooser();
		
		p_west.setPreferredSize(new Dimension(150, 500));
		t_content.setPreferredSize(new Dimension(150, 130));
		t_content.setBackground(Color.PINK);
		p_preview.setPreferredSize(new Dimension(150, 130));
		
		p_west.add(t_title);
		p_west.add(t_writer);
		p_west.add(t_content);
		p_west.add(p_preview);
		p_west.add(bt_open);
		p_west.add(bt_regist);
		
		add(p_west,BorderLayout.WEST);
		
		//센터영역
		table=new JTable();
		scroll=new JScrollPane(table);
		
		add(scroll);
		
		//동쪽영역
		p_east=new JPanel();
		t_title2=new JTextField(12);
		t_writer2=new JTextField(12);
		t_content2=new JTextArea();
		p_preview2=new JPanel();
		bt_edit=new JButton("수정");
		bt_del=new JButton("삭제");
		p_east.setPreferredSize(new Dimension(150, 500));
		t_content2.setPreferredSize(new Dimension(150, 130));
		t_content2.setBackground(Color.PINK);
		p_preview2.setPreferredSize(new Dimension(150, 130));
		p_preview2.setBackground(Color.GRAY);
		
		p_east.add(t_title2);
		p_east.add(t_writer2);
		p_east.add(t_content2);
		p_east.add(p_preview2);
		p_east.add(bt_edit);
		p_east.add(bt_del);
		
		add(p_east,BorderLayout.EAST);
		
		setSize(900,500);
		setVisible(true);
		setDefaultCloseOperation(EXIT_ON_CLOSE);
		
		//버튼 리스너 연결
		bt_open.addActionListener(this);
		bt_regist.addActionListener(this);
		bt_edit.addActionListener(this);
		bt_del.addActionListener(this);
	}

	public void openFile() {
		//파일탐색기를 띄우고, 사용자가 선택한 이미지 파일을 미리보게 하자
		int result=chooser.showOpenDialog(this);
		if(result==JFileChooser.APPROVE_OPTION) {
			//유저가 선택한 파일 반환받기
			chooser.getSelectedFile()
		}
	}
	
	public void actionPerformed(ActionEvent e) {
		Object obj=e.getSource();
		if(obj==bt_open) {
			openFile();
		}else if(obj==bt_regist) {
			
		}else if(obj==bt_edit) {
			
		}else if(obj==bt_del) {
			
		}
	}
	
	public static void main(String[] args) {
		new GalleryMain();
	}

}
